<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace="fragments/layout.html :: html_head"/>
<script type="text/javascript">
	function savegrade() {
  		let text;
  		let g = prompt("Please enter new grade:", "Harry Potter");
  		if (g == null || g == "") {
    		text = "User cancelled the prompt.";
  			} 
  			else {
    			text = "Grade is"+g+ "- updated";
  			}
  		document.getElementById("gradebutton").innerHTML = text;
		}
</script>
</script>
</head>
<body>
	<h2>Students Enrolled in <span th:text="${courseName}"></span></h2>
	<div th:if="${not #lists.isEmpty(students)}">
	<form method ="post" action="@{/lecturer/grade}">
	<table style = "border: 1;">;	
		<tr>
			<th>StudentID</th>
			<th>FirstMidName</th>
			<th>LastName</th>
			<th>Grade</th>
			<th> </th>
		</tr>
		<tr th:each= "student : ${students}">
			<td th:text = "*{studentID}">StudentID</td>
			<td th:text = "${student.firstMidName}">Name</td> 
			<td th:text = "${student.lastName}">LastName</td>
			<td th:text = "${student.Student_Course.grade}">
			<td>
			<form th:action="@{/grade}" method="post" id="gradeform" name="gradeform"> 
				<button onclick="savegrade()">Grade</button>
				<span id="gradebutton"></span>
			</form>
		</tr>
	</table>
	<form th:action="@{/grade}" method="post"><input type="submit" value="Confirm Grades"/></form> 
	</div>
</body>
</html>
